<!--
  This template loads for the 'tab.friend-detail' state (app.js)
  'friend' is a $scope variable created in the FriendsCtrl controller (controllers.js)
  The FriendsCtrl pulls data from the Friends service (service.js)
  The Friends service returns an array of friend data
-->

<ion-view view-title="{{chat.name}}">
  <ion-content class="padding" hide-tabs='true'>
    <div style="padding-bottom:200px;">
      
      <div class="item item-avatar" ng-repeat="message in messages" style="border: none;">
        <img ng-src="{{message.user.profileImageURL}}">
        <img ng-show="message.mestype=='thanks'" src="img/thanks.png" style="width:70px;">
        <h2 ng-show="message.mestype=='spot'">{{message.formatted_address}}</h2>
        <p style="font-style: italic; font-size: 10px">{{message.user.displayName}}</p>
        <div ng-show="message.mestype=='spot' && !message.taken" ng-click="takeSpot(message)" style="width: 12%; position: absolute; right: 4px; top: 15px;">
          <div
            round-progress
            posted="message.timeposted"
            max="message.timedeadline"
            current="timeposted"
            color="#2ecc71"
            bgcolor="#eaeaea"
            radius="50"
            stroke="14"
            semi="false"
            rounded="false"
            clockwise="false"
            responsive="true"
            duration="400"
            animation="linearEase">
          </div>
        </div>
      </div>
    </div>
  </ion-content>

  <div class="bar bar-footer" style="font-size: 52px !important;line-height: 52px !important; ">
    <div class="row">
      <div class="col" ng-show="user" style="text-align:center; font-size: 52px !important;line-height: 52px !important;">
        <!-- &nbsp; -->
        <a ng-click="postThanks()" style="font-size: 52px !important;line-height: 52px !important; "><img width="70px" src="img/thanks.png"></a>
      </div>
      <div class="col" ng-show="user" style="text-align:center; font-size: 52px !important;line-height: 52px !important;">
        <a ng-click="openModal()" style="font-size: 52px !important;line-height: 52px !important; "><img width="50px" src="img/pin.png"></a>
      </div>
      <div class="col" ng-show="!user" style="text-align:center; font-size: 52px !important;line-height: 52px !important;">
        <button ng-click="showLoginPopup()" class="button button-block button-positive">
          Login to Join
        </button>
      </div>
    </div>
  </div>

</ion-view>
